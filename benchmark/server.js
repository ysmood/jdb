// Generated by CoffeeScript 1.9.3
var Benchmark, http, suite;

Benchmark = require('benchmark');

suite = new Benchmark.Suite;

Benchmark.support.timeout = false;

http = require('http');

suite.add('* exec', {
  defer: true,
  fn: function(deferred) {
    var req;
    req = http.request({
      hostname: '127.0.0.1',
      port: 8137,
      path: '/exec',
      method: 'POST'
    }, function(res) {
      return res.on('data', function(data) {
        return deferred.resolve();
      });
    });
    return req.end(JSON.stringify({
      command: (function(jdb) {
        jdb.doc.a++;
        return jdb.save();
      }).toString()
    }));
  }
}).on('cycle', function(e) {
  return console.log(e.target.toString());
}).on('complete', function(e) {
  return console.log("Done");
}).run();
